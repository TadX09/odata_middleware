<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="500" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .node { fill: #e1d5e7; stroke: #9673a6; stroke-width: 2; rx: 8; ry: 8; }
      .decision { fill: #fff2cc; stroke: #d6b656; stroke-width: 2; }
      .process { fill: #ffe6cc; stroke: #d79b00; stroke-width: 2; rx: 8; ry: 8; }
      .sap { fill: #f5f5f5; stroke: #666666; stroke-width: 2; rx: 8; ry: 8; }
      .response { fill: #dae8fc; stroke: #6c8ebf; stroke-width: 2; rx: 8; ry: 8; }
      .text { font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; dominant-baseline: middle; }
      .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .label { font-family: Arial, sans-serif; font-size: 9px; fill: #666; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Client Request -->
  <rect x="50" y="200" width="100" height="40" class="node"/>
  <text x="100" y="220" class="text">Client Request</text>
  
  <!-- Decision -->
  <polygon points="200,200 220,220 200,240 180,220" class="decision"/>
  <text x="200" y="220" class="text">Request Type?</text>
  
  <!-- Direct URL -->
  <rect x="250" y="50" width="100" height="30" class="process"/>
  <text x="300" y="65" class="text">Direct URL</text>
  
  <!-- Structured Request -->
  <rect x="250" y="100" width="120" height="30" class="process"/>
  <text x="310" y="115" class="text">Structured Request</text>
  
  <!-- Build Request URL -->
  <rect x="400" y="50" width="100" height="30" class="process"/>
  <text x="450" y="65" class="text">Build Request URL</text>
  
  <!-- Build OData URL -->
  <rect x="400" y="100" width="100" height="30" class="process"/>
  <text x="450" y="115" class="text">Build OData URL</text>
  
  <!-- Get SAP Headers -->
  <rect x="550" y="75" width="100" height="30" class="process"/>
  <text x="600" y="90" class="text">Get SAP Headers</text>
  
  <!-- Execute HTTP Request -->
  <rect x="700" y="75" width="120" height="30" class="process"/>
  <text x="760" y="90" class="text">Execute HTTP Request</text>
  
  <!-- SAP System -->
  <rect x="700" y="150" width="120" height="40" class="sap"/>
  <text x="760" y="170" class="text">SAP System</text>
  
  <!-- Process Response -->
  <rect x="550" y="200" width="100" height="30" class="process"/>
  <text x="600" y="215" class="text">Process Response</text>
  
  <!-- Return Response -->
  <rect x="400" y="200" width="100" height="30" class="process"/>
  <text x="450" y="215" class="text">Return Response</text>
  
  <!-- Client -->
  <rect x="250" y="200" width="100" height="40" class="response"/>
  <text x="300" y="220" class="text">Client</text>
  
  <!-- Arrows -->
  <line x1="150" y1="220" x2="180" y2="220" class="arrow"/>
  
  <!-- Decision arrows -->
  <line x1="200" y1="200" x2="250" y2="65" class="arrow"/>
  <line x1="200" y1="220" x2="250" y2="115" class="arrow"/>
  
  <!-- Process arrows -->
  <line x1="350" y1="65" x2="400" y2="65" class="arrow"/>
  <line x1="370" y1="115" x2="400" y2="115" class="arrow"/>
  <line x1="400" y1="100" x2="400" y2="80" class="arrow"/>
  
  <!-- To SAP Headers -->
  <line x1="500" y1="65" x2="550" y2="75" class="arrow"/>
  <line x1="500" y1="115" x2="550" y2="90" class="arrow"/>
  
  <!-- To HTTP Request -->
  <line x1="650" y1="90" x2="700" y2="90" class="arrow"/>
  
  <!-- To SAP System -->
  <line x1="760" y1="105" x2="760" y2="150" class="arrow"/>
  
  <!-- Response flow -->
  <line x1="760" y1="190" x2="650" y2="200" class="arrow"/>
  <line x1="550" y1="215" x2="500" y2="215" class="arrow"/>
  <line x1="400" y1="215" x2="350" y2="220" class="arrow"/>
  
  <!-- Labels -->
  <text x="175" y="210" class="label">Validate</text>
  <text x="225" y="45" class="label">ExecuteODataRequest</text>
  <text x="225" y="95" class="label">ODataRequest</text>
  <text x="375" y="45" class="label">Direct URL</text>
  <text x="375" y="95" class="label">Structured</text>
  <text x="525" y="65" class="label">Auth Headers</text>
  <text x="675" y="65" class="label">HTTP Call</text>
  <text x="675" y="140" class="label">OData Service</text>
  <text x="675" y="180" class="label">SAP Response</text>
  <text x="525" y="190" class="label">Parse & Format</text>
  <text x="375" y="190" class="label">JSON/XML</text>
  <text x="325" y="190" class="label">Response</text>
</svg> 